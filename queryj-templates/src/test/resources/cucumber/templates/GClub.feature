Feature: G_CLUBS code compiles

  Scenario Outline: G_CLUBS-specific templates compile

    Given the following tables:
    |    table     | parent table | decorated | relationship |   static    |
    | G_CLUBS |  | false | false |  |

    And the following columns:
    |     table    |         column        | type      | pk    | allows null | readonly |   sequence    | keyword | boolean | length | precision |
    | G_CLUBS | G_CLUB_ID | NUMBER | true | false | false | seq_clubs |  | false | 22 | 0 |
    | G_CLUBS | G_PARENT_CLUB_ID | NUMBER | false | true | false |  |  | false | 22 | 0 |
    | G_CLUBS | G_CLUB_TYPE_ID | NUMBER | false | false | false |  |  | false | 22 | 0 |
    | G_CLUBS | LAST_MODIFIED | DATE | false | false | false |  |  | false | 7 | 0 |
    | G_CLUBS | CREATION_DATE | DATE | false | false | false |  |  | false | 7 | 0 |
    | G_CLUBS | G_FIRST_DRAW_ID | NUMBER | false | false | false |  |  | false | 22 | 0 |
    | G_CLUBS | G_LAST_DRAW_ID | NUMBER | false | false | false |  |  | false | 22 | 0 |
    | G_CLUBS | G_CLUB_DEFINITION_ID | NUMBER | false | true | false |  |  | false | 22 | 0 |

    And the following queries:
      |       id      |     name      |     dao      |  type  | matches  |                        value                           | validate |
      | clubs.count-all-clubs-validated | count-all-clubs-validated | g_clubs | select | multiple |  select count(1) as result_value from ( select distinct(c.g_club_id) from g_tickets t, g_bets b, g_draw_tickets dt, g_clubs c, g_purchases p where dt.g_draw_id = ? and t.g_ticket_id= dt.g_ticket_id and t.g_ticket_state_id = 2 and t.g_ticket_id = b.g_ticket_id and b.g_purchase_id = p.g_purchase_id and p.g_bettor_type_id = 2 and p.g_bettor_id = c.g_club_id and c.g_club_type_id = ? and p.g_purchase_type_id = ? )  | true |
      | clubs.count-club-validated-bets | count-club-validated-bets | g_clubs | select | multiple |  select count(*) as result_value from g_purchases pu, g_bets b where pu.g_bettor_id in (select c.g_club_id from g_clubs c start with c.g_parent_club_id = ? connect by prior c.g_club_id = c.g_parent_club_id) and pu.g_bettor_type_id=2 and pu.g_purchase_id = b.g_purchase_id and b.g_ticket_id is not null  | true |
      | clubs.count-club-validated-individual-bets | count-club-validated-individual-bets | g_clubs | select | multiple |  select count(*) as result_value from g_clubs c, g_shares s, g_purchases pu, g_bets b where c.g_parent_club_id = ? and c.g_club_id = s.g_club_id and s.g_product_id = pu.g_product_id and pu.g_purchase_id = b.g_purchase_id and b.g_ticket_id is not null  | true |
      | clubs.count-clubs-by-type-with-purchases-ready-to-map | count-clubs-by-type-with-purchases-ready-to-map | g_clubs | select | multiple |  select count(distinct(c.g_club_id)) as result_value from g_bets b, g_draw_bets db, g_purchases p, g_clubs c, g_shares s where b.g_bet_payment_state_id in (2,4) and b.g_purchase_id = p.g_purchase_id and p.g_pur_payment_state_id in (2,4,7) and b.g_bet_id = db.g_bet_id and db.g_draw_id = ? and b.g_ticket_id is null and p.g_purchase_type_id = ? and s.g_club_id = c.g_club_id and c.g_club_type_id = ? and p.g_bettor_type_id = 2 and p.g_bettor_id = c.g_club_id  | true |
      | clubs.count-clubs-validated | count-clubs-validated | g_clubs | select | multiple |  select count(1) as result_value from ( select distinct(c.g_club_id) from g_tickets t, g_bets b, g_draw_tickets dt, g_clubs c, g_purchases p where dt.g_draw_id = ? and t.g_ticket_id= dt.g_ticket_id and t.g_administration_id = ? and t.g_ticket_state_id = 2 and t.g_ticket_id = b.g_ticket_id and b.g_purchase_id = p.g_purchase_id and p.g_bettor_type_id = 2 and p.g_bettor_id = c.g_club_id and c.g_club_type_id = ? and p.g_purchase_type_id = ? )  | true |
      | clubs.count-completed-clubs-by-type-with-purchases-ready-to-map | count-completed-clubs-by-type-with-purchases-ready-to-map | g_clubs | select | multiple |  select count(distinct(c.g_club_id)) as result_value from g_bets b, g_draw_bets db, g_purchases p, g_clubs c, g_shares s, g_club_metadata cm where b.g_bet_payment_state_id in (2,4) and b.g_purchase_id = p.g_purchase_id and p.g_pur_payment_state_id in (2,4,7) and b.g_bet_id = db.g_bet_id and db.g_draw_id = ? and b.g_ticket_id is null and p.g_purchase_type_id = ? and s.g_club_id = c.g_club_id and c.g_club_type_id = ? and p.g_bettor_type_id = 2 and p.g_bettor_id = c.g_club_id and cm.g_club_id = c.g_club_id and cm.g_club_metadata_type_id = 2 and cm.value = 0  | true |
      | clubs.find-allocated-club-by-product-by-club-type-and-by-first-draw | find-allocated-club-by-product-by-club-type-and-by-first-draw | g_clubs | select | multiple |  select c.* from g_clubs c, g_shares s where c.g_club_id = s.g_club_id and s.g_product_id = ? and c.g_club_type_id = ? and c.g_first_draw_id = ?  | true |
      | clubs.find-available-clubs-by-first-draw-and-product-type | find-available-clubs-by-first-draw-and-product-type | g_clubs | select | multiple |  select c.* from g_clubs c, g_club_metadata cm1, g_club_metadata cm2, g_club_metadefinition cmd where c.g_club_id = cm1.g_club_id and c.g_club_id = cm2.g_club_id (+) and c.g_club_type_id = cmd.g_club_type_id and cm1.g_club_metadata_type_id = 2 and cm2.g_club_metadata_type_id (+) = 8 and (to_number(cm1.value) - to_number(nvl(cm2.value, '0'))) > 0 and c.g_first_draw_id = ? and cmd.g_product_type_id = ? and not exists ( select null from g_club_metadata cm3 where c.g_club_id=cm3.g_club_id and cm3.g_club_metadata_type_id=9 and cm3.value='true') order by to_number(cm1.value) asc, c.g_club_id asc  | true |
      | clubs.find-available-marketing-club-for-dis-with-shares-assigned-by-product | find-available-marketing-club-for-dis-with-shares-assigned-by-product | g_clubs | select | multiple |  select c.* from g_clubs c, g_club_metadata cm where c.g_club_id = cm.g_club_id and cm.g_club_metadata_type_id=8 and to_number(cm.value)>0 and c.g_club_id in (select distinct(mkt_club) from ( select connect_by_root g_club_id mkt_club, g_club_id from g_clubs start with g_parent_club_id is null connect by prior g_club_id = g_parent_club_id) where g_club_id in (select c.g_club_id from g_clubs c, g_shares s where c.g_club_id = s.g_club_id and s.g_product_id = ? and c.g_first_draw_id = ?))  | true |
      | clubs.find-available-marketing-club-with-shares-assigned-by-product | find-available-marketing-club-with-shares-assigned-by-product | g_clubs | select | multiple |  select c.* from g_clubs c, g_club_metadata cm1, g_club_metadata cm2 where c.g_club_id = cm1.g_club_id and c.g_club_id = cm2.g_club_id (+) and cm1.g_club_metadata_type_id=2 and cm2.g_club_metadata_type_id (+) = 8 and (to_number(cm1.value) - to_number(nvl(cm2.value, '0'))) > 0 and c.g_club_id in (select distinct(mkt_club) from ( select connect_by_root g_club_id mkt_club, g_club_id from g_clubs start with g_parent_club_id is null connect by prior g_club_id = g_parent_club_id) where g_club_id in (select c.g_club_id from g_clubs c, g_shares s where c.g_club_id = s.g_club_id and s.g_product_id = ? and c.g_first_draw_id = ?))  | true |
      | clubs.find-available-marketing-clubs-by-first-draw-and-product-type-and-shares | find-available-marketing-clubs-by-first-draw-and-product-type-and-shares | g_clubs | select | multiple |  select c.* from g_clubs c , g_club_metadata cm where cm.g_club_metadata_type_id = 2 and cm.g_club_id = c.g_club_id and c.g_club_id in ( select distinct(mkt_club) from ( select connect_by_root g_club_id mkt_club, g_club_id from g_clubs start with g_parent_club_id is null connect by prior g_club_id = g_parent_club_id) where g_club_id in ( select c.g_club_id from g_clubs c, g_club_metadata cm1, g_club_metadata cm2, g_club_metadefinition cmd where c.g_club_id = cm1.g_club_id and c.g_club_id = cm2.g_club_id (+) and c.g_club_type_id = cmd.g_club_type_id and cm1.g_club_metadata_type_id = 2 and cm2.g_club_metadata_type_id (+) = 8 and c.g_first_draw_id = ? and cmd.g_product_type_id = ? and (to_number(cm1.value) - to_number(nvl(cm2.value, '0'))) > ?)) order by to_number(cm.value) asc  | true |
      | clubs.find-club-by-prize-id | find-club-by-prize-id | g_clubs | select | multiple |  select c.* from g_prizes p, g_bets b, g_purchases pu, g_clubs c where p.g_prize_id=? and p.g_winner_id=b.g_bet_id and p.g_winner_type_id=1 and b.g_purchase_id=pu.g_purchase_id and pu.g_bettor_id=c.g_club_id and pu.g_bettor_type_id=2  | true |
      | clubs.find-club-by-product-id-first-cycle-draw-id-and-club-type-id | find-club-by-product-id-first-cycle-draw-id-and-club-type-id | g_clubs | select | multiple |  select clubs.* from g_shares shares, g_clubs clubs where shares.g_product_id = ? and shares.g_club_id = clubs.g_club_id and clubs.g_first_draw_id = ? and clubs.g_club_type_id = ?  | true |
      | clubs.find-club-for-share | find-club-for-share | g_clubs | select | multiple |  select c.* from g_clubs c, g_shares s where c.g_club_id = s.g_club_id and s.g_share_id = ?  | true |
      | clubs.find-clubs-booked-for-distribution-by-first-draw-and-product-type | find-clubs-booked-for-distribution-by-first-draw-and-product-type | g_clubs | select | multiple |  select c.* from g_clubs c, g_club_metadata cm, g_club_metadefinition cmd where c.g_club_id = cm.g_club_id and c.g_club_type_id = cmd.g_club_type_id and cm.g_club_metadata_type_id = 8 and cm.value <> '0' and c.g_first_draw_id = ? and cmd.g_product_type_id = ?  and not exists ( select null from g_club_metadata cm3 where c.g_club_id=cm3.g_club_id and cm3.g_club_metadata_type_id=9 and cm3.value='true')  | true |
      | clubs.find-clubs-by-club-definition-block-id-and-cycle-id | find-clubs-by-club-definition-block-id-and-cycle-id | g_clubs | select | multiple |  SELECT c.* FROM g_clubs c, g_club_definition cd, G_cycles cy, G_cycle_types cyt WHERE c.G_PARENT_CLUB_ID IS NULL AND c.G_CLUB_definition_id=cd.G_CLUB_definition_id AND cd.G_club_definition_block_id=? AND g_cycle_id=? AND c.g_first_draw_id=cy.g_first_draw_id AND c.g_last_draw_id=cy.g_last_draw_id ORDER BY c.g_club_id  | true |
      | clubs.find-clubs-by-club-definition-id | find-clubs-by-club-definition-id | g_clubs | select | multiple |  select c.* from g_clubs c where c.g_club_definition_id = ?  | true |
      | clubs.find-clubs-by-club-type-id-and-cycle-id | find-clubs-by-club-type-id-and-cycle-id | g_clubs | select | multiple |  SELECT c.* FROM g_clubs c, g_club_metadata cm WHERE c.g_club_type_id = ? AND c.g_club_id = cm.g_club_id AND cm.g_club_metadata_type_id = 7 AND cm.value = ? ORDER BY c.g_club_id  | true |
      | clubs.find-clubs-by-product-id | find-clubs-by-product-id | g_clubs | select | multiple |  select c.* from g_clubs c, g_shares s where c.g_club_id = s.g_club_id and s.g_product_id = ?  | true |
      | clubs.find-clubs-by-product-type-id-and-cycle-id | find-clubs-by-product-type-id-and-cycle-id | g_clubs | select | multiple |  select c.* from g_clubs c, g_club_metadefinition cm, g_cycles cy, g_cycle_types cyt where c.g_parent_club_id is null and c.g_club_type_id = cm.g_club_type_id and cm.g_product_type_id = ? and cyt.g_product_type_id = cm.g_product_type_id and cy.g_cycle_type_id = cyt.g_cycle_type_id and cy.g_cycle_id = ? and c.g_first_draw_id = cy.g_first_draw_id and c.g_last_draw_id = cy.g_last_draw_id and c.g_club_type_id = cy.g_club_type_id order by c.g_club_id  | true |
      | clubs.find-clubs-by-product-type-id-and-cycle-id-and-club-metadata | find-clubs-by-product-type-id-and-cycle-id-and-club-metadata | g_clubs | select | multiple |  select c.* from g_clubs c, g_club_metadata m, g_club_metadefinition cm, g_cycles cy, g_cycle_types cyt where c.g_parent_club_id is null and c.g_club_type_id = cm.g_club_type_id and cm.g_product_type_id = ? and cyt.g_product_type_id = cm.g_product_type_id and cy.g_cycle_type_id = cyt.g_cycle_type_id and cy.g_cycle_id = ? and c.g_first_draw_id = cy.g_first_draw_id and c.g_last_draw_id = cy.g_last_draw_id and c.g_club_id = m.g_club_id and c.g_club_type_id = cy.g_club_type_id and m.g_club_metadata_type_id = ? and m.value = ? order by c.g_club_id  | true |
      | clubs.find-clubs-for-assignation-by-marketing-club | find-clubs-for-assignation-by-marketing-club | g_clubs | select | multiple |  select * from g_clubs where g_club_id in ( select min(g_club_id) from ( select clubs_tree.g_club_id, clubs_tree.g_club_type_id from (select * from (select c.*, to_number(cm.value) free_shares from g_clubs c, g_club_metadata cm where c.g_club_id = cm.g_club_id and cm.g_club_metadata_type_id = 2) start with g_parent_club_id = ? connect by prior g_club_id = g_parent_club_id ) clubs_tree, (select g_club_type_id, min(clubs.free_shares) min_free_shares from (select * from (select c.g_club_id, c.g_parent_club_id, c.g_club_type_id, to_number(cm.value) free_shares from g_clubs c, g_club_metadata cm where c.g_club_id = cm.g_club_id and cm.g_club_metadata_type_id = 2 and to_number(cm.value) > 0) start with g_parent_club_id = ? connect by prior g_club_id = g_parent_club_id) clubs group by g_club_type_id ) min_free_shares_per_club_types where clubs_tree.g_club_type_id = min_free_shares_per_club_types.g_club_type_id and clubs_tree.free_shares = min_free_shares_per_club_types.min_free_shares ) group by g_club_type_id )  | true |
      | clubs.find-clubs-to-be-generated | find-clubs-to-be-generated | g_clubs | select | multiple |  select * from ( select p.g_purchase_type_id, 0 as g_administration_id, count(distinct(c.g_club_id)) as counter, to_char(d.drawing_date,'D') as drawDayOfWeek from g_draws d, g_draw_bets db, g_bets b, g_purchases p, g_clubs c, g_shares s where d.g_draw_id=db.g_draw_id and db.g_bet_id=b.g_bet_id and b.g_purchase_id=p.g_purchase_id and p.g_bettor_type_id=2 and p.g_bettor_id=c.g_club_id and c.g_club_id=s.g_club_id and d.drawing_date between ? and ? and c.g_club_type_id in (?,?,?) and b.g_ticket_id is null group by p.g_purchase_type_id, to_char(d.drawing_date,'D') ) union ( select p.g_purchase_type_id, t.g_administration_id, count(distinct(c.g_club_id)) as counter, to_char(d.drawing_date,'D') as drawDayOfWeek from g_draws d, g_draw_bets db, g_bets b, g_purchases p, g_tickets t, g_clubs c, g_shares s where d.g_draw_id=db.g_draw_id and db.g_bet_id=b.g_bet_id and b.g_purchase_id=p.g_purchase_id and p.g_bettor_type_id=2 and p.g_bettor_id=c.g_club_id and c.g_club_id=s.g_club_id and t.g_ticket_id=b.g_ticket_id and d.drawing_date between ? and ? and c.g_club_type_id in (?,?,?) group by p.g_purchase_type_id, t.g_administration_id, to_char(d.drawing_date,'D') ) order by 4, 1, 2  | true |
      | clubs.find-clubs-with-slots-and-bet-value-by-product-type-and-draw-id | find-clubs-with-slots-and-bet-value-by-product-type-and-draw-id | g_clubs | select | multiple |  select c.g_club_id ,m.value as slots ,b.bet_value from g_clubs c ,g_club_metadata m ,g_shares s ,g_products pr ,g_purchases pu ,g_bets b where m.g_club_metadata_type_id = 2 and pu.g_bettor_type_id = 2 and m.value > 0 and pr.g_product_type_id = ? and c.g_first_draw_id = ? and c.g_club_id = m.g_club_id and c.g_club_id = s.g_club_id and s.g_product_id = pr.g_product_id and c.g_club_id = pu.g_bettor_id and pu.g_purchase_id = b.g_purchase_id group by c.g_club_id ,m.value ,b.bet_value order by b.bet_value ,m.value desc  | true |
      | clubs.find-clubs-with-slots-and-bet-value-by-product-type-and-draw-id-and-company-id | find-clubs-with-slots-and-bet-value-by-product-type-and-draw-id-and-company-id | g_clubs | select | multiple |  select c.g_club_id ,m.value as slots ,b.bet_value from g_clubs c ,g_club_metadata m ,g_club_metadata m2 ,g_shares s ,g_products pr ,g_purchases pu ,g_bets b where m.g_club_metadata_type_id = 2 and pu.g_bettor_type_id = 2 and m.value > 0 and pr.g_product_type_id = ? and c.g_first_draw_id = ? and c.g_club_id = m.g_club_id and c.g_club_id = s.g_club_id and s.g_product_id = pr.g_product_id and c.g_club_id = pu.g_bettor_id and pu.g_purchase_id = b.g_purchase_id and m2.g_club_metadata_type_id = 11 and c.g_parent_club_id = m2.g_club_id and m2.value = ? group by c.g_club_id ,m.value ,b.bet_value order by b.bet_value ,m.value desc  | true |
      | clubs.find-marketing-parent-club | find-marketing-parent-club | g_clubs | select | multiple |  select * from g_clubs where g_parent_club_id is null start with g_club_id= ? connect by prior g_parent_club_id=g_club_id  | true |
      | clubs.find-number-of-clubs-booked-for-distribution-by-product | find-number-of-clubs-booked-for-distribution-by-product | g_clubs | select | multiple |  select count(c.g_club_id) as result_value from g_clubs c, g_club_metadata cm where cm.g_club_id = c.g_club_id and cm.g_club_metadata_type_id = 8 and cm.value <> '0' and c.g_first_draw_id = ? and c.g_last_draw_id = ? and c.g_club_type_id IN (select g_club_type_id from g_club_metadefinition where g_product_type_id = ?)  | true |
      | clubs.find-product-type-by-club-id | find-product-type-by-club-id | g_clubs | select | multiple |  select p.g_product_type_id as result_value from  g_shares s, g_clubs c, g_products p where c.g_parent_club_id= ? and c.g_club_id = s.g_club_id and s.g_product_id = p.g_product_id and rownum = 1  | true |
      | clubs.find-recursive-clubs-by-club-id | find-recursive-clubs-by-club-id | g_clubs | select | multiple |  select c.* from g_clubs c start with c.g_club_id = ? connect by prior c.g_club_id = c.g_parent_club_id  | true |
      | clubs.find-recursive-clubs-maps-from-club-type-between-draws-order-by-lineage | find-recursive-clubs-maps-from-club-type-between-draws-order-by-lineage | g_clubs | select | multiple |  select club.g_club_id as id, club.g_parent_club_id as parent_id, ( select club_definition.external_id from g_club_definition club_definition where club_definition.g_club_definition_id = club.g_club_definition_id ) as external_id, level, ( select to_number(m.value) from g_club_type_metadata m where m.g_club_type_metadata_type_id = 2 and m.g_club_type_id = club.g_club_type_id ) as max_number_of_shares, ( select count(1) from g_shares shares where shares.g_club_id = club.g_club_id ) as number_of_shares, lineage_club(club.g_club_id) as lineage, 1 as is_open, club.g_club_type_id, club.g_club_definition_id from g_clubs club where club.g_club_id in ( select club.g_club_id from g_clubs club, g_draws club_first_draw, g_draws club_last_draw, ( select * from g_draws where g_draw_id = ? ) first_draw, ( select * from g_draws where g_draw_id = ? ) last_draw where club_first_draw.g_draw_id = club.g_first_draw_id and club_first_draw.drawing_date <= first_draw.drawing_date and club_last_draw.g_draw_id = club.g_last_draw_id and club_last_draw.drawing_date >= last_draw.drawing_date ) start with club.g_club_type_id = ? connect by prior club.g_club_id = club.g_parent_club_id order by lineage  | true |
      | find-administration-prizes | find-administration-prizes | g_clubs | select | multiple |  select t.g_administration_id, q.g_prize_category_id, sum(q.amount) as total_prize from g_prizes p, g_prize_quotas q, g_bets b, g_tickets t where q.g_prize_quota_id = p.g_prize_quota_id and p.g_winner_id = b.g_bet_id and b.g_ticket_id = t.g_ticket_id and p.g_draw_id = ? and p.g_winner_type_id = 1 group by t.g_administration_id, q.g_prize_category_id  | true |
      | find-all-clubs-by-club-type | find-all-clubs-by-club-type | g_clubs | select | multiple |  select t.g_club_id, t.g_parent_club_id, t.g_club_type_id, t.last_modified, t.creation_date, t.g_first_draw_id, t.g_last_draw_id, t.g_club_definition_id from g_clubs t where t.g_club_type_id = ? and t.g_first_draw_id = ?  | true |
      | find-available-clubs | find-available-clubs | g_clubs | select | multiple |  select t.* from g_clubs t, g_club_metadata free_share_slots where t.g_club_type_id = ? and t.g_first_draw_id = ? and free_share_slots.g_club_metadata_type_id = 2 and free_share_slots.g_club_id = t.g_club_id and free_share_slots.value <> 0 order by to_number(free_share_slots.value), t.creation_date for update of free_share_slots.value  | true |
      | find-available-clubs-by-associated | find-available-clubs-by-associated | g_clubs | select | multiple |  select t.* from g_clubs t, g_club_metadata free_share_slots, g_club_metadata associated_club_id where t.g_club_type_id = ? and free_share_slots.g_club_metadata_type_id = 2 and free_share_slots.g_club_id = t.g_club_id and free_share_slots.value <> 0 and associated_club_id.g_club_metadata_type_id = 6 and associated_club_id.g_club_id = t.g_club_id and associated_club_id.value = ? order by t.g_club_id for update of free_share_slots.value  | true |
      | find-available-clubs-of-group | find-available-clubs-of-group | g_clubs | select | multiple |  select t.* from g_clubs t, g_club_metadata free_share_slots, g_club_metadata group_club_id where free_share_slots.g_club_metadata_type_id = 2 and free_share_slots.g_club_id = t.g_club_id and free_share_slots.value <> 0 and group_club_id.g_club_metadata_type_id = 5 and group_club_id.g_club_id = t.g_club_id and group_club_id.value = ? order by t.g_club_id for update of free_share_slots.value  | true |
      | find-available-clubs-of-parent | find-available-clubs-of-parent | g_clubs | select | multiple |  select t.* from g_clubs t, g_club_metadata free_share_slots where t.g_club_type_id = ? and g_parent_club_id = ? and free_share_slots.g_club_metadata_type_id = 2 and free_share_slots.g_club_id = t.g_club_id and free_share_slots.value <> 0 order by to_number(free_share_slots.value), t.g_club_id for update of free_share_slots.value  | true |
      | find-available-clubs-same-club-from-not-reserved | find-available-clubs-same-club-from-not-reserved | g_clubs | select | multiple |  select c1.* from g_clubs c1, g_clubs c2, g_club_metadata allocation_order, g_club_metadata free_share_slots where c1.g_club_type_id = ? and c1.g_parent_club_id = c2.g_club_id and allocation_order.g_club_id = c2.g_club_id and allocation_order.g_club_metadata_type_id = 4 and mod(allocation_order.value-1,10)+1 > ? and allocation_order.value <= ? and free_share_slots.g_club_id = c1.g_club_id and free_share_slots.g_club_metadata_type_id = 2 and free_share_slots.value >= ? and c1.g_first_draw_id = ? order by c1.g_club_id  | true |
      | find-available-clubs-same-club-from-reserved | find-available-clubs-same-club-from-reserved | g_clubs | select | multiple |  select c1.* from g_clubs c1, g_clubs c2, g_club_metadata allocation_order, g_club_metadata free_share_slots where c1.g_club_type_id = ? and c1.g_parent_club_id = c2.g_club_id and allocation_order.g_club_id = c2.g_club_id and allocation_order.g_club_metadata_type_id = 4 and mod(allocation_order.value-1,10)+1 <= ? and allocation_order.value <= ? and free_share_slots.g_club_id = c1.g_club_id and free_share_slots.g_club_metadata_type_id = 2 and free_share_slots.value >= ? and c1.g_first_draw_id = ? order by c1.g_club_id  | true |
      | find-available-clubs-with-max-open-clubs | find-available-clubs-with-max-open-clubs | g_clubs | select | multiple |  select distinct c.* from g_clubs c, g_clubs parent, g_club_metadata allocation_order, g_club_metadata free_share_slots where c.g_club_type_id = ? and c.g_parent_club_id = parent.g_club_id and free_share_slots.g_club_id = c.g_club_id and free_share_slots.g_club_metadata_type_id = 2 and free_share_slots.value > 0 and allocation_order.g_club_id = parent.g_club_id and allocation_order.g_club_metadata_type_id = 4 and allocation_order.value <= ? and c.g_first_draw_id = ? order by c.g_club_id  | true |
      | find-available-group-clubs-related-to-group | find-available-group-clubs-related-to-group | g_clubs | select | multiple |  select distinct gc.* from g_club_metadata related_group_club_id, g_clubs related_club, g_clubs c, g_clubs gc, g_club_metadata free_share_slots, g_club_metadata group_club_id where related_group_club_id.g_club_id = related_club.g_club_id and related_group_club_id.g_club_metadata_type_id = 5 and related_group_club_id.value = ? and related_club.g_parent_club_id = c.g_parent_club_id and group_club_id.g_club_id = c.g_club_id and group_club_id.g_club_metadata_type_id = 5 and group_club_id.value = gc.g_club_id and free_share_slots.g_club_id = gc.g_club_id and free_share_slots.g_club_metadata_type_id = 2 and free_share_slots.value > 0 and gc.g_first_draw_id = ? order by gc.g_club_id  | true |
      | find-available-group-clubs-with-max-open-clubs | find-available-group-clubs-with-max-open-clubs | g_clubs | select | multiple |  select distinct gc.* from g_clubs gc, g_clubs c, g_clubs parent, g_club_metadata allocation_order, g_club_metadata free_share_slots, g_club_metadata group_club_id where gc.g_club_type_id = ? and group_club_id.g_club_id = c.g_club_id and group_club_id.g_club_metadata_type_id = 5 and group_club_id.value = gc.g_club_id and c.g_parent_club_id = parent.g_club_id and free_share_slots.g_club_id = gc.g_club_id and free_share_slots.g_club_metadata_type_id = 2 and free_share_slots.value > 0 and allocation_order.g_club_id = parent.g_club_id and allocation_order.g_club_metadata_type_id = 4 and allocation_order.value <= ? and gc.g_first_draw_id = ? order by gc.g_club_id  | true |
      | find-club-by-first-draw-and-club-definition | find-club-by-first-draw-and-club-definition | g_clubs | select | multiple |  select * from g_clubs c where c.g_first_draw_id = ? and c.g_club_definition_id = ?  | true |
      | find-club-prizes-and-categories | find-club-prizes-and-categories | g_clubs | select | multiple |  select c.g_club_id, c.g_club_type_id, q.g_prize_category_id, sum(q.amount) as total_prize from g_prizes p, g_prize_quotas q, g_bets b, g_purchases gp, g_clubs c where q.g_prize_quota_id = p.g_prize_quota_id and p.g_winner_id = b.g_bet_id and gp.g_product_id is null and b.g_purchase_id = gp.g_purchase_id and gp.g_bettor_id = c.g_club_id and p.g_draw_id = ? and c.g_parent_club_id = ? and gp.g_bettor_type_id = 2 and p.g_winner_type_id = 1 group by c.g_club_id, c.g_club_type_id, q.g_prize_category_id  | true |
      | find-club-prizes-and-categories-by-parent-club-id | find-club-prizes-and-categories-by-parent-club-id | g_clubs | select | multiple |  select c.g_parent_club_id, parentclub.g_club_type_id, sum(q.amount) as total_prize from g_prizes p, g_prize_quotas q, g_bets b, g_purchases gp, g_clubs c, g_clubs parentclub where q.g_prize_quota_id=p.g_prize_quota_id and p.g_winner_id=b.g_bet_id and gp.g_product_id is null and b.g_purchase_id = gp.g_purchase_id and gp.g_bettor_id = c.g_club_id and c.g_parent_club_id = parentclub.g_club_id and p.g_draw_id = ? and gp.g_bettor_type_id = 2 and p.g_winner_type_id = 1 group by c.g_parent_club_id, parentclub.g_club_type_id  | true |
      | find-clubs-by-first-draw-and-club-type | find-clubs-by-first-draw-and-club-type | g_clubs | select | multiple |  select * from g_clubs c where c.g_first_draw_id = ? and c.g_club_type_id = ?  | true |
      | find-extended-club-by-club-id | find-extended-club-by-club-id | g_clubs | select | multiple |  select club.g_club_id as club_id, club.g_parent_club_id as parent_club_id, club.g_club_type_id as club_type_id, ( select freeShareSlots.value from g_club_metadata freeShareSlots where club.g_club_id = freeShareSlots.g_club_id and freeShareSlots.g_club_metadata_type_id = 2 ) as free_share_slots, nvl( ( select externalId.external_id from g_club_definition externalId where club.g_club_definition_id = externalId.g_club_definition_id ), club.g_club_id) as external_id from g_clubs club where club.g_club_id = ?  | true |
      | find-extended-clubs-by-first-draw-id-order-by-club-id | find-extended-clubs-by-first-draw-id-order-by-club-id | g_clubs | select | multiple |  select club.g_club_id as club_id, club.g_parent_club_id as parent_club_id, club.g_club_type_id as club_type_id, ( select freeShareSlots.value from g_club_metadata freeShareSlots where club.g_club_id = freeShareSlots.g_club_id and freeShareSlots.g_club_metadata_type_id = 2 ) as free_share_slots, nvl( ( select externalId.external_id from g_club_definition externalId where club.g_club_definition_id = externalId.g_club_definition_id ), club.g_club_id) as external_id from g_clubs club where club.g_first_draw_id = ? order by club.g_club_id  | true |
      | find-number-of-open-clubs | find-number-of-open-clubs | g_clubs | select | multiple |  select count(*) result_value from g_clubs c where c.g_first_draw_id = ? and c.g_club_type_id = ? and exists ( select 1 from g_shares s where c.g_club_id = s.g_club_id )  | true |
      | find-recursive-clubs-maps-from-club | find-recursive-clubs-maps-from-club | g_clubs | select | multiple |  select allocation_map.*, (max_number_of_shares - number_of_shares) as free_share_slots from ( select c.g_club_id as id, c.g_parent_club_id as parent_id, ( select external_id from g_club_definition cd where c.g_club_definition_id = cd.g_club_definition_id ) as external_id, level, ( select to_number(m.value) from g_club_type_metadata m where m.g_club_type_metadata_type_id = 2 and c.g_club_type_id = m.g_club_type_id ) as max_number_of_shares, ( select count(*) from g_shares s where c.g_club_id = s.g_club_id ) as number_of_shares, lineage_club(c.g_club_id) as lineage, ( select is_open from g_club_definition cd where c.g_club_definition_id = cd.g_club_definition_id ) as is_open, c.g_club_type_id, c.g_club_definition_id from g_clubs c start with c.g_club_id = ? connect by prior c.g_club_id = c.g_parent_club_id ) allocation_map order by lineage  | true |
      | get-club-by-draw-id | get-club-by-draw-id | g_clubs | select | multiple |  select t.* from g_clubs t where t.g_first_draw_id = ? order by t.g_parent_club_id, t.g_club_type_id  | true |
      | get-club-shares-validation-state | get-club-shares-validation-state | g_clubs | select | multiple |  select c.g_parent_club_id, t.g_administration_id, count(distinct b.g_bet_id) as total from g_products pr, g_shares s, g_purchases p, g_bets b, g_draw_bets db, g_tickets t, g_clubs c where pr.g_product_id = s.g_product_id and pr.g_product_id = p.g_product_id and p.g_purchase_id = b.g_purchase_id and b.g_ticket_id = t.g_ticket_id and t.g_ticket_state_id >=2 and s.g_club_id = c.g_club_id and b.g_bet_id = db.g_bet_id and db.g_draw_id = c.g_first_draw_id and db.g_draw_id = ? group by c.g_parent_club_id, t.g_administration_id  | true |
      | get-clubs-by-parent-club-id | get-clubs-by-parent-club-id | g_clubs | select | multiple |  Select t.* from g_clubs t where t.g_parent_club_id = ?  | true |
      | get-clubs-id-and-metadata-by-parent-club-id | get-clubs-id-and-metadata-by-parent-club-id | g_clubs | select | multiple |  select t.g_club_id, t.g_club_type_id, mt.value from g_clubs t, g_club_metadata mt where t.g_club_id = mt.g_club_id and t.g_parent_club_id = ? and mt.g_club_metadata_type_id = ?  | true |
      | get-eu-club-shares-validation-state | get-eu-club-shares-validation-state | g_clubs | select | multiple |  select c.g_parent_club_id, t.g_administration_id, count(distinct b.g_bet_id) as total from g_products pr, g_shares s, g_purchases p, g_bets b, g_draw_bets db, g_tickets t, g_clubs c, (select * from g_draws where g_draw_id = ?) d where pr.g_product_id = s.g_product_id and pr.g_product_id = p.g_product_id and p.g_purchase_id = b.g_purchase_id and b.g_ticket_id = t.g_ticket_id and t.g_ticket_state_id >= 2 and s.g_club_id = c.g_club_id and b.g_bet_id = db.g_bet_id and db.g_draw_id = c.g_first_draw_id and pr.g_product_type_id in (14, 15) and p.g_purchase_type_id = 1 and b.g_bet_type_id = 5 and t.g_ticket_type_id = 1 and c.g_club_type_id in (1, 2, 3) and db.g_draw_id = d.g_draw_id group by c.g_parent_club_id, t.g_administration_id  | true |
      | get-eu-club-state | get-eu-club-state | g_clubs | select | multiple |  select clubs.g_club_id                                    as g_club_id, clubs.g_club_type_id                               as g_club_type_id, clubs.g_parent_club_id                             as g_parent_club_id, nvl(num_validated_bets1.g_administration_id, 0) + nvl(num_validated_bets2.g_administration_id, 0) as admon, nvl(validated_bets1, 0) + nvl(validated_bets2, 0)  as total, ( select free_share_slots.value from g_club_metadata                                free_share_slots where clubs.g_club_id                                = free_share_slots.g_club_id and free_share_slots.g_club_metadata_type_id   = 2 )                                                  as freeslots from g_clubs                                            clubs, ( select draw_tickets.g_draw_id                         as g_draw_id, purchases.g_bettor_id                          as g_bettor_id, tickets.g_administration_id                    as g_administration_id, sum(bets.number_of_bets)                        as validated_bets1 from g_draw_tickets                                 draw_tickets, g_tickets                                      tickets, g_bets                                         bets, g_purchases                                    purchases, g_clubs                                        clubs where draw_tickets.g_ticket_id                       = tickets.g_ticket_id and tickets.g_ticket_id                        = bets.g_ticket_id and tickets.g_ticket_state_id                  <> 1 and tickets.g_ticket_type_id                   = 1 and bets.g_bet_type_id                         = 5 and bets.g_purchase_id                         = purchases.g_purchase_id and purchases.g_purchase_type_id               = 1 and purchases.g_bettor_type_id                 = 2 and purchases.g_bettor_id                      = clubs.g_club_id and clubs.g_club_type_id                       in (2, 3) and clubs.g_first_draw_id                      = ? and draw_tickets.g_draw_id                     = clubs.g_first_draw_id and purchases.g_first_draw_id                  = clubs.g_first_draw_id group by draw_tickets.g_draw_id, purchases.g_bettor_id, tickets.g_administration_id ) num_validated_bets1, ( select draw_bets.g_draw_id                            as g_draw_id, purchases.g_bettor_id                          as g_bettor_id, tickets.g_administration_id                    as g_administration_id, count(1)                                       as validated_bets2 from g_bets                                         bets, g_tickets                                      tickets, g_draw_bets                                    draw_bets, g_purchases                                    purchases, g_clubs                                        clubs where bets.g_ticket_id                               = tickets.g_ticket_id and bets.g_bet_type_id                         = 5 and tickets.g_ticket_state_id                  <> 1 and tickets.g_ticket_type_id                   = 1 and draw_bets.g_bet_id                         = bets.g_bet_id and bets.g_purchase_id                         = purchases.g_purchase_id and purchases.g_purchase_type_id               = 1 and purchases.g_bettor_type_id                 = 2 and purchases.g_bettor_id                      = clubs.g_club_id and clubs.g_club_type_id                       in (2, 3) and clubs.g_first_draw_id                      = ? and draw_bets.g_draw_id                        = clubs.g_first_draw_id and purchases.g_first_draw_id                  = clubs.g_first_draw_id group by draw_bets.g_draw_id, tickets.g_administration_id, purchases.g_bettor_id ) num_validated_bets2 where clubs.g_club_id                                    = num_validated_bets1.g_bettor_id (+) and clubs.g_club_id                                = num_validated_bets2.g_bettor_id (+) and clubs.g_first_draw_id                          = ? and clubs.g_club_type_id                           in (2, 3) order by clubs.g_club_id  | true |
      | get-eu-clubs-by-draw-id | get-eu-clubs-by-draw-id | g_clubs | select | multiple |  select * from g_clubs where g_first_draw_id = ? and g_club_type_id in (1, 2, 3) order by g_parent_club_id, g_club_type_id  | true |
      | get-natlot-clubs-map | get-natlot-clubs-map | g_clubs | select | multiple |  select c.g_club_id, c.g_club_type_id, allocorder.value, freeslots.value as freeslots from g_clubs c, g_club_metadata freeslots, g_club_metadata draw, g_club_metadata allocorder where c.g_club_id = freeslots.g_club_id and allocorder.g_club_id = c.g_parent_club_id and allocorder.g_club_metadata_type_id = 4 and c.g_first_draw_id = ? and freeslots.g_club_metadata_type_id = 2 order by to_number(value),g_club_id  | true |

    And the following query parameters:
      |            id            |     sql       | index |  type  |     name    | validation-value |
      | draw-id.parameter-1 | clubs.count-all-clubs-validated | 1 | long | draw_id | 1 |
      | clubs.club_type_id.parameter-2 | clubs.count-all-clubs-validated | 2 | long | club_type_id | 1 |
      | purchase-type-id.parameter-3 | clubs.count-all-clubs-validated | 3 | long | purchase_type_id_3 | 1 |
      | clubs.club_id.parameter-1 | clubs.count-club-validated-bets | 1 | long | club_id_1 | 1 |
      | clubs.club_id.parameter-1 | clubs.count-club-validated-individual-bets | 1 | long | club_id_1 | 1 |
      | draw-id.parameter-1 | clubs.count-clubs-by-type-with-purchases-ready-to-map | 1 | long | draw_id | 1 |
      | purchase-type-id.parameter-2 | clubs.count-clubs-by-type-with-purchases-ready-to-map | 2 | long | purchase_type_id_2 | 1 |
      | clubs.club_type_id.parameter-3 | clubs.count-clubs-by-type-with-purchases-ready-to-map | 3 | long | club_type_id_3 | 1 |
      | draw-id.parameter-1 | clubs.count-clubs-validated | 1 | long | draw_id | 1 |
      | administration-id.parameter-2 | clubs.count-clubs-validated | 2 | long | administrationId | 1 |
      | clubs.club_type_id.parameter-3 | clubs.count-clubs-validated | 3 | long | club_type_id_3 | 1 |
      | purchase-type-id.parameter-4 | clubs.count-clubs-validated | 4 | long | purchase_type_id_4 | 1 |
      | draw-id.parameter-1 | clubs.count-completed-clubs-by-type-with-purchases-ready-to-map | 1 | long | draw_id | 1 |
      | purchase-type-id.parameter-2 | clubs.count-completed-clubs-by-type-with-purchases-ready-to-map | 2 | long | purchase_type_id_2 | 1 |
      | clubs.club_type_id.parameter-3 | clubs.count-completed-clubs-by-type-with-purchases-ready-to-map | 3 | long | club_type_id_3 | 1 |
      | clubs.product_id.parameter-1 | clubs.find-allocated-club-by-product-by-club-type-and-by-first-draw | 1 | long | product_id | 1 |
      | clubs.club_type_id.parameter-2 | clubs.find-allocated-club-by-product-by-club-type-and-by-first-draw | 2 | long | club_type_id | 1 |
      | clubs.first_draw_id.parameter-3 | clubs.find-allocated-club-by-product-by-club-type-and-by-first-draw | 3 | long | first_draw_id | 1 |
      | clubs.first_draw_id.parameter-1 | clubs.find-available-clubs-by-first-draw-and-product-type | 1 | long | first_draw_id | 1 |
      | clubs.product_type_id.parameter-2 | clubs.find-available-clubs-by-first-draw-and-product-type | 2 | long | product_type_id | 36 |
      | clubs.product_id.parameter-1 | clubs.find-available-marketing-club-for-dis-with-shares-assigned-by-product | 1 | long | product_id | 1 |
      | clubs.first_draw_id.parameter-2 | clubs.find-available-marketing-club-for-dis-with-shares-assigned-by-product | 2 | long | first_draw_id | 1 |
      | clubs.product_id.parameter-1 | clubs.find-available-marketing-club-with-shares-assigned-by-product | 1 | long | product_id | 1 |
      | clubs.first_draw_id.parameter-2 | clubs.find-available-marketing-club-with-shares-assigned-by-product | 2 | long | first_draw_id | 1 |
      | clubs.first_draw_id.parameter-1 | clubs.find-available-marketing-clubs-by-first-draw-and-product-type-and-shares | 1 | long | first_draw_id | 1 |
      | clubs.product_type_id.parameter-2 | clubs.find-available-marketing-clubs-by-first-draw-and-product-type-and-shares | 2 | long | product_type_id | 36 |
      | clubs.available_shares.parameter-3 | clubs.find-available-marketing-clubs-by-first-draw-and-product-type-and-shares | 3 | long | available_shares | 3 |
      | clubs.prize_id.parameter-1 | clubs.find-club-by-prize-id | 1 | long | prize_id_1 | 1 |
      | clubs.product_id.parameter-1 | clubs.find-club-by-product-id-first-cycle-draw-id-and-club-type-id | 1 | long | product_id | 1 |
      | clubs.first_draw_id.parameter-2 | clubs.find-club-by-product-id-first-cycle-draw-id-and-club-type-id | 2 | long | first_draw_id | 1 |
      | clubs.club_type_id.parameter-3 | clubs.find-club-by-product-id-first-cycle-draw-id-and-club-type-id | 3 | long | club_type_id_3 | 1 |
      | clubs.share_id.parameter-1 | clubs.find-club-for-share | 1 | long | share_id_1 | 1 |
      | clubs.first_draw_id.parameter-1 | clubs.find-clubs-booked-for-distribution-by-first-draw-and-product-type | 1 | long | first_draw_id | 1 |
      | clubs.product_type_id.parameter-2 | clubs.find-clubs-booked-for-distribution-by-first-draw-and-product-type | 2 | long | product_type_id | 36 |
      | clubs.club_definition_block_id.parameter-1 | clubs.find-clubs-by-club-definition-block-id-and-cycle-id | 1 | long | club_definition_block_id | 1 |
      | clubs.cycle_id.parameter-2 | clubs.find-clubs-by-club-definition-block-id-and-cycle-id | 2 | long | cycle_id | 17 |
      | clubs.club_definition_id.parameter-1 | clubs.find-clubs-by-club-definition-id | 1 | long | club_definition_id_1 | 1 |
      | clubs.club_type_id.parameter-1 | clubs.find-clubs-by-club-type-id-and-cycle-id | 1 | long | club_type_id | 1 |
      | clubs.metadata_value.parameter-2 | clubs.find-clubs-by-club-type-id-and-cycle-id | 2 | String | metadataValue | 1 |
      | clubs.product_id.parameter-1 | clubs.find-clubs-by-product-id | 1 | long | product_id | 1 |
      | clubs.product_type_id.parameter-1 | clubs.find-clubs-by-product-type-id-and-cycle-id | 1 | long | product_type_id | 36 |
      | clubs.cycle_id.parameter-2 | clubs.find-clubs-by-product-type-id-and-cycle-id | 2 | long | cycle_id | 17 |
      | clubs.product_type_id.parameter-1 | clubs.find-clubs-by-product-type-id-and-cycle-id-and-club-metadata | 1 | long | product_type_id | 36 |
      | clubs.cycle_id.parameter-2 | clubs.find-clubs-by-product-type-id-and-cycle-id-and-club-metadata | 2 | long | cycle_id | 17 |
      | clubs.club_metadata_type_id.parameter-3 | clubs.find-clubs-by-product-type-id-and-cycle-id-and-club-metadata | 3 | long | metadataTypeId | 1 |
      | clubs.metadata_value.parameter-4 | clubs.find-clubs-by-product-type-id-and-cycle-id-and-club-metadata | 4 | String | metadataValue | 1 |
      | clubs.club_id.parameter-1 | clubs.find-clubs-for-assignation-by-marketing-club | 1 | long | club_id_1 | 1 |
      | clubs.club_id.parameter-2 | clubs.find-clubs-for-assignation-by-marketing-club | 2 | long | club_id_2 | 1 |
      | clubs.date.parameter-1 | clubs.find-clubs-to-be-generated | 1 | Date | drawing_date_1 | [now] |
      | clubs.date.parameter-2 | clubs.find-clubs-to-be-generated | 2 | Date | drawing_date_2 | [now] |
      | clubs.club_type_id.parameter-3 | clubs.find-clubs-to-be-generated | 3 | long | club_type_id_3 | 1 |
      | clubs.club_type_id.parameter-4 | clubs.find-clubs-to-be-generated | 4 | long | club_type_id_4 | 1 |
      | clubs.club_type_id.parameter-5 | clubs.find-clubs-to-be-generated | 5 | long | club_type_id_5 | 1 |
      | clubs.date.parameter-6 | clubs.find-clubs-to-be-generated | 6 | Date | drawing_date_6 | [now] |
      | clubs.date.parameter-7 | clubs.find-clubs-to-be-generated | 7 | Date | drawing_date_7 | [now] |
      | clubs.club_type_id.parameter-8 | clubs.find-clubs-to-be-generated | 8 | long | club_type_id_8 | 1 |
      | clubs.club_type_id.parameter-9 | clubs.find-clubs-to-be-generated | 9 | long | club_type_id_9 | 1 |
      | clubs.club_type_id.parameter-10 | clubs.find-clubs-to-be-generated | 10 | long | club_type_id_10 | 1 |
      | clubs.product_type_id.parameter-1 | clubs.find-clubs-with-slots-and-bet-value-by-product-type-and-draw-id | 1 | long | product_type_id | 36 |
      | clubs.first_draw_id.parameter-2 | clubs.find-clubs-with-slots-and-bet-value-by-product-type-and-draw-id | 2 | long | first_draw_id | 1 |
      | clubs.product_type_id.parameter-1 | clubs.find-clubs-with-slots-and-bet-value-by-product-type-and-draw-id-and-company-id | 1 | long | product_type_id | 36 |
      | clubs.first_draw_id.parameter-2 | clubs.find-clubs-with-slots-and-bet-value-by-product-type-and-draw-id-and-company-id | 2 | long | first_draw_id | 1 |
      | clubs.company_id.parameter-3 | clubs.find-clubs-with-slots-and-bet-value-by-product-type-and-draw-id-and-company-id | 3 | String | companyId | 1 |
      | clubs.club_id.parameter-1 | clubs.find-marketing-parent-club | 1 | long | club_id_1 | 1 |
      | clubs.first_draw_id.parameter-1 | clubs.find-number-of-clubs-booked-for-distribution-by-product | 1 | long | first_draw_id | 1 |
      | clubs.last_draw_id.parameter-2 | clubs.find-number-of-clubs-booked-for-distribution-by-product | 2 | long | last_draw_id | 1 |
      | clubs.product_type_id.parameter-3 | clubs.find-number-of-clubs-booked-for-distribution-by-product | 3 | long | product_type_id | 36 |
      | clubs.club_id.parameter-1 | clubs.find-product-type-by-club-id | 1 | long | club_id_1 | 1 |
      | clubs.club_id.parameter-1 | clubs.find-recursive-clubs-by-club-id | 1 | long | club_id_1 | 1 |
      | clubs.first_draw_id.parameter-1 | clubs.find-recursive-clubs-maps-from-club-type-between-draws-order-by-lineage | 1 | long | first_draw_id | 1 |
      | clubs.last_draw_id.parameter-2 | clubs.find-recursive-clubs-maps-from-club-type-between-draws-order-by-lineage | 2 | long | last_draw_id | 1 |
      | clubs.club_type_id.parameter-3 | clubs.find-recursive-clubs-maps-from-club-type-between-draws-order-by-lineage | 3 | long | club_type_id_3 | 1 |
      | draw-id.parameter-1 | find-administration-prizes | 1 | long | draw_id | 1 |
      | club-type-id.parameter-1 | find-all-clubs-by-club-type | 1 | long | club_type_id | 2 |
      | long-parameter-2 | find-all-clubs-by-club-type | 2 | long | id_2 | 1 |
      | club-type-id.parameter-1 | find-available-clubs | 1 | long | club_type_id | 2 |
      | draw-id.parameter-2 | find-available-clubs | 2 | long | draw_id_2 | 1 |
      | club-type-id.parameter-1 | find-available-clubs-by-associated | 1 | long | club_type_id | 2 |
      | club-id.string.parameter-2 | find-available-clubs-by-associated | 2 | String | clubId2 | 2 |
      | club-id.string.parameter-1 | find-available-clubs-of-group | 1 | String | clubId | 2 |
      | club-type-id.parameter-1 | find-available-clubs-of-parent | 1 | long | club_type_id | 2 |
      | parent-club-id.parameter-2 | find-available-clubs-of-parent | 2 | long | parent_club_id | 2 |
      | club-type-id.parameter-1 | find-available-clubs-same-club-from-not-reserved | 1 | long | club_type_id | 2 |
      | reserved-clubs.parameter-2 | find-available-clubs-same-club-from-not-reserved | 2 | long | reservedClubs | 2 |
      | max-open-clubs.parameter-3 | find-available-clubs-same-club-from-not-reserved | 3 | long | maxOpenClubs | 60 |
      | free-share-slots.parameter-4 | find-available-clubs-same-club-from-not-reserved | 4 | long | freeShareSlots | 60 |
      | draw-id.parameter-5 | find-available-clubs-same-club-from-not-reserved | 5 | long | draw_id_5 | 1 |
      | club-type-id.parameter-1 | find-available-clubs-same-club-from-reserved | 1 | long | club_type_id | 2 |
      | reserved-clubs.parameter-2 | find-available-clubs-same-club-from-reserved | 2 | long | reservedClubs | 2 |
      | max-open-clubs.parameter-3 | find-available-clubs-same-club-from-reserved | 3 | long | maxOpenClubs | 60 |
      | free-share-slots.parameter-4 | find-available-clubs-same-club-from-reserved | 4 | long | freeShareSlots | 60 |
      | draw-id.parameter-5 | find-available-clubs-same-club-from-reserved | 5 | long | draw_id_5 | 1 |
      | club-type-id.parameter-1 | find-available-clubs-with-max-open-clubs | 1 | long | club_type_id | 2 |
      | max-open-clubs.parameter-2 | find-available-clubs-with-max-open-clubs | 2 | long | maxOpenClubs | 60 |
      | draw-id-string.parameter-3 | find-available-clubs-with-max-open-clubs | 3 | String | draw_id_3 | 1 |
      | club-id.parameter-1 | find-available-group-clubs-related-to-group | 1 | long | club_id | 2 |
      | draw-id-string.parameter-2 | find-available-group-clubs-related-to-group | 2 | String | draw_id_2 | 1 |
      | club-type-id.parameter-1 | find-available-group-clubs-with-max-open-clubs | 1 | long | club_type_id | 2 |
      | max-open-clubs.parameter-2 | find-available-group-clubs-with-max-open-clubs | 2 | long | maxOpenClubs | 60 |
      | draw-id-string.parameter-3 | find-available-group-clubs-with-max-open-clubs | 3 | String | draw_id_3 | 1 |
      | first-draw-id.parameter-1 | find-club-by-first-draw-and-club-definition | 1 | long | first_draw_id | 1 |
      | club-definition-id.parameter-2 | find-club-by-first-draw-and-club-definition | 2 | long | club_definition_id | 1 |
      | draw-id.parameter-1 | find-club-prizes-and-categories | 1 | long | draw_id | 1 |
      | parent-club-id.parameter-2 | find-club-prizes-and-categories | 2 | long | parent_club_id | 2 |
      | draw-id.parameter-1 | find-club-prizes-and-categories-by-parent-club-id | 1 | long | draw_id | 1 |
      | first-draw-id.parameter-1 | find-clubs-by-first-draw-and-club-type | 1 | long | first_draw_id | 1 |
      | club-type-id.parameter-2 | find-clubs-by-first-draw-and-club-type | 2 | long | club_type_id | 1 |
      | first-draw-id.parameter-1 | find-extended-club-by-club-id | 1 | long | first_draw_id | 1 |
      | first-draw-id.parameter-1 | find-extended-clubs-by-first-draw-id-order-by-club-id | 1 | long | first_draw_id | 1 |
      | first-draw-id.parameter-1 | find-number-of-open-clubs | 1 | long | first_draw_id | 1 |
      | club-type-id.parameter-2 | find-number-of-open-clubs | 2 | long | club_type_id | 1 |
      | club-id.parameter-1 | find-recursive-clubs-maps-from-club | 1 | long | club_id | 2 |
      | draw-id.parameter-1 | get-club-by-draw-id | 1 | long | draw_id | 1 |
      | draw-id.parameter-1 | get-club-shares-validation-state | 1 | long | draw_id | 1 |
      | parent-club-id.parameter-1 | get-clubs-by-parent-club-id | 2 | long | parent_club_id | 2 |
      | parent-club-id.parameter-1 | get-clubs-id-and-metadata-by-parent-club-id | 2 | long | parent_club_id | 2 |
      | long-parameter-2 | get-clubs-id-and-metadata-by-parent-club-id | 2 | long | id_2 | 1 |
      | draw-id.parameter-1 | get-eu-club-shares-validation-state | 1 | long | draw_id | 1 |
      | draw-id.parameter-1 | get-eu-club-state | 1 | long | draw_id | 1 |
      | draw-id.parameter-2 | get-eu-club-state | 2 | long | draw_id_2 | 1 |
      | draw-id.parameter-3 | get-eu-club-state | 3 | long | draw_id_3 | 1 |
      | draw-id.parameter-1 | get-eu-clubs-by-draw-id | 1 | long | draw_id | 1 |
      | draw-id.parameter-1 | get-natlot-clubs-map | 1 | long | draw_id | 1 |

    When I generate with per-table <template>.stg for Oracle

    Then the generated per-table <output> file compiles successfully

    Examples:
      | template | output |
      | ValueObject | GClub.java                   |
      | BaseValueObject | AbstractGClub.java           |
      | ValueObjectImpl | GClubImpl.java               |
      | ValueObjectFactory | GClubFactory.java            |
      | DAOFactoryHelper | GClubDAOFactoryHelper.java |
      | ValueObjectFactory | GClubFactory.java |
      | BaseDAOFactory | GClubDAOFactory.java |
      | BaseDAO | GClubDAO.java |
      | DAOFactory | OracleGClubDAOFactory.java |
      | AttributesStatementSetter | GClubStatementSetter.java |
      | PkStatementSetter | GClubPkStatementSetter.java |
      | ResultSetSingleExtractor | GClubResultSetSingleExtractor.java |
      | ResultSetMultipleExtractor | GClubResultSetMultipleExtractor.java |
      | DAO | OracleGClubDAO.java |
